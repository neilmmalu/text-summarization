{"version":3,"sources":["components/InputSection.js","components/OutputSection.js","components/App.js","index.js"],"names":["InputSection","props","onProcess","setState","error","formData","FormData","state","text","append","file","name","type","window","location","origin","axios","defaults","baseURL","console","log","post","then","res","update","data","transactionID","catch","err","onFileChange","e","target","files","handleTextChange","value","summarizeOps","types","option","allOptions","key","className","Dropdown","selection","options","this","onChange","onClick","disabled","React","Component","OutputSection","summarizedText","prevProps","tID","get","readOnly","App","updateTransactionID","id","style","backgroundColor","height","padding","color","fontSize","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.b12c8d55.chunk.js","sourcesContent":["import React from \"react\";\nimport \"../css/InputSection.css\";\nimport axios from \"axios\";\n\nimport { Dropdown } from \"semantic-ui-react\";\nimport \"semantic-ui-css/semantic.min.css\";\n\nclass InputSection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: \"\",\n      file: null,\n      error: true,\n      type: null,\n      allOptions: [\n        {\n          key: \"similarityMatrix\",\n          text: \"Extractive: Similarity Matrix\",\n          value: \"Extractive: Similarity Matrix\",\n        },\n        {\n          key: \"nltkSummarizer\",\n          text: \"Extractive: NLTK\",\n          value: \"Extractive: NLTK\",\n        },\n        {\n          key: \"lsaSummarizer\",\n          text: \"Extractive: LSA\",\n          value: \"Extractive: LSA\",\n        },\n        {\n          key: \"klSummarizer\",\n          text: \"Extractive: KLSum\",\n          value: \"Extractive: KLSum\",\n        },\n        {\n          key: \"luhnSummarizer\",\n          text: \"Extractive: Luhn\",\n          value: \"Extractive: Luhn\",\n        },\n        {\n          key: \"lexRankSummarizer\",\n          text: \"Extractive: Lex Rank\",\n          value: \"Extractive: Lex Rank\",\n        },\n        {\n          key: \"huggingFace\",\n          text: \"Abstractive: HuggingFace Pipeline\",\n          value: \"Abstractive: HuggingFace Pipeline\",\n        },\n        {\n          key: \"t5\",\n          text: \"Abstractive: T5\",\n          value: \"Abstractive: T5\",\n        },\n        {\n          key: \"gpt\",\n          text: \"Abstractive: GPT-2\",\n          value: \"Abstractive: GPT-2\",\n        },\n      ],\n      option: \"Extractive: Similarity Matrix\",\n    };\n    this.types = {\n      \"Extractive: Similarity Matrix\": \"similarityMatrix\",\n      \"Extractive: NLTK\": \"nltkSummarizer\",\n      \"Extractive: LSA\": \"lsaSummarizer\",\n      \"Extractive: KLSum\": \"klSummarizer\",\n      \"Extractive: Luhn\": \"luhnSummarizer\",\n      \"Extractive: Lex Rank\": \"lexRankSummarizer\",\n      \"Abstractive: HuggingFace Pipeline\": \"huggingFace\",\n      \"Abstractive: T5\": \"t5\",\n      \"Abstractive: GPT-2\": \"gpt\",\n    };\n  }\n\n  onProcess = () => {\n    this.setState({ error: false });\n    let formData = new FormData();\n    if (this.state.text !== \"\") {\n      formData.append(\"inputText\", this.state.text);\n    }\n\n    if (this.state.file !== null) {\n      formData.append(\"upload\", this.state.file, this.state.file?.name);\n    }\n\n    if (this.state.type !== null) {\n      formData.append(\"summaryType\", this.state.type);\n    }\n    \n      if(window.location.origin === \"http://localhost:3000\"){\n          axios.defaults.baseURL = \"http://localhost:8000\";\n      } else {\n          axios.defaults.baseURL = window.location.origin + \":8000\";\n      }\n\n      console.log(axios.defaults.baseURL + \"/api/texts/\");\n\n    axios.post(\"/api/texts/\", formData).then((res) => {\n      this.props.update(res.data.transactionID);\n    }).catch((err) => {\n        console.log(err);\n    });\n  };\n\n  onFileChange = (e) => {\n    this.setState({ file: e.target.files[0] }, () => {\n      if (this.state.file === null && this.state.text === \"\") {\n        this.setState({ error: true });\n      } else if (this.state.file !== null && this.state.text !== \"\") {\n        this.setState({ error: true });\n      } else {\n        this.setState({ error: false });\n      }\n    });\n  };\n\n  handleTextChange = (e) => {\n    this.setState({ text: e.target.value }, () => {\n      if (this.state.file === null && this.state.text === \"\") {\n        this.setState({ error: true });\n      } else if (this.state.file !== null && this.state.text !== \"\") {\n        this.setState({ error: true });\n      } else {\n        this.setState({ error: false });\n      }\n    });\n  };\n\n  summarizeOps = (e, data) => {\n    console.log(this.types[data.value]);\n    this.setState({ option: data.value, type: this.types[data.value] });\n  };\n\n  render() {\n    return (\n      <div className=\"ui container\">\n        <div className=\"ui one column grid\">\n          <div className=\"row\">\n            <Dropdown\n              selection\n              options={this.state.allOptions}\n              value={this.state.option}\n              onChange={this.summarizeOps}\n            />\n          </div>\n          <div className=\"row\">\n            <h3>Enter Text Here</h3>\n          </div>\n          <div className=\"row\">\n            <textarea\n              onChange={this.handleTextChange}\n              className=\"textarea\"\n              value={this.state.text}\n            ></textarea>\n          </div>\n\n          <div className=\"row\">\n            <button\n              className=\"fluid ui teal button\"\n              onClick={this.onProcess}\n              disabled={this.state.error}\n            >\n              Process\n            </button>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"ui horizontal divider\">Or</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"ui action input\">\n            <input type=\"file\" onChange={this.onFileChange} />\n            <button\n              className=\"ui button\"\n              onClick={this.onProcess}\n              disabled={this.state.error}\n            >\n              Process\n            </button>\n          </div>\n        </div>\n        {this.state.error && (\n          <div className=\"row\">Either add text or file, not both.</div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default InputSection;\n","import axios from \"axios\";\nimport React from \"react\";\nimport \"../css/OutputSection.css\";\n\nclass OutputSection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      summarizedText: \"\",\n      transactionID: \"\",\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.tID !== prevProps.tID) {\n      this.setState({ transactionID: this.props.tID }, () => {\n        console.log(this.state.transactionID);\n\n        if(window.location.origin === \"http://localhost:3000\"){\n            axios.defaults.baseURL = \"http://localhost:8000\";\n        } else {\n            axios.defaults.baseURL = window.location.origin + \":8000\";\n        }\n\n        axios\n          .get(\"/api/texts/\" + this.state.transactionID)\n          .then((res) => {\n            this.setState({ summarizedText: res.data.summarizedText });\n          });\n      });\n    }\n  }\n\n  render() {\n    //random comment\n\n    return (\n      <div className=\"ui container\">\n        <div className=\"ui one column grid\">\n          <div className=\"row\">\n            <h3>Processed Text</h3>\n          </div>\n          <div className=\"row\">\n            <textarea\n              readOnly\n              className=\"textarea\"\n              value={this.state.summarizedText}\n            ></textarea>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OutputSection;\n","import React from \"react\";\nimport \"../css/App.css\";\n\nimport InputSection from \"./InputSection\";\nimport OutputSection from \"./OutputSection\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      transactionID: \"\",\n    };\n  }\n\n  updateTransactionID = (id) => {\n    this.setState({ transactionID: id });\n  };\n\n  render() {\n    return (\n      <div\n        className=\"ui fluid center aligned container\"\n        style={{\n          backgroundColor: \"cadetblue\",\n          height: \"1000px\",\n          padding: \"50px\",\n        }}\n      >\n        <h1 style={{ color: \"white\", fontSize: \"50px\", padding: \"50px\" }}>\n          Text Summarization\n        </h1>\n\n        <div className=\"ui segment\">\n          <div className=\"ui two column very relaxed grid\">\n            <div className=\"column\">\n              <InputSection update={this.updateTransactionID} />\n            </div>\n            <div className=\"column\">\n              <OutputSection tID={this.state.transactionID} />\n            </div>\n          </div>\n          <div className=\"ui vertical divider\">\n            <i className=\"massive sync alternate icon\"></i>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}